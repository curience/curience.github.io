define(["./config"],function(t){return{contactForm:$(".htg-contact-form"),contactType:$(".ct_type"),changeFormType:function(){var t=this;t.contactType.on("click",function(n){n.preventDefault();var a=$(this).text();t.contactForm.find('input[name="ct_type"]').val(a),$(this).addClass("selected"),t.contactType.not(this).removeClass("selected")})},submitContactForm:function(){var n=this;n.contactForm.submit(function(a){a.preventDefault();var e=n.contactForm.find('input[name="ct_type"]').val(),c=n.contactForm.find('input[name="ct_name"]').val(),o=n.contactForm.find('input[name="ct_email"]').val(),r=n.contactForm.find("textarea").val(),i=o.indexOf("@"),s=o.lastIndexOf(".");""===c?n.contactForm.find('input[name="ct_name"]').addClass("error"):n.contactForm.find('input[name="ct_name"]').removeClass("error"),""===o?n.contactForm.find('input[name="ct_email"]').addClass("error"):n.contactForm.find('input[name="ct_email"]').removeClass("error"),""===r?n.contactForm.find("textarea").addClass("error"):n.contactForm.find("textarea").removeClass("error"),(""!==c||""!==o||""!==r)&&(1>i||i+2>s||s+2>=o.length?n.contactForm.find('input[name="ct_email"]').addClass("error"):$.ajax({url:t.baseUrl+"/contact/sendMail",type:"POST",data:{ctType:e,ctName:c,ctEmail:o,ctMessage:r},success:function(n){console.log(n),"sent"===n?location.assign(t.baseUrl+"/contact/thanks"):(location.assign(t.baseUrl+"/contact"),console.log("FAIL"))},error:function(){console.log("error")}}))})},init:function(){this.changeFormType(),this.submitContactForm()}}});