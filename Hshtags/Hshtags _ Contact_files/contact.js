"use strict";var contact_directives=angular.module("contact.directives",[]);contact_directives.directive("contactForm",[function(){var t=function(t,e){e.find(".ct_type").on("click",function(t){t.preventDefault();var n=$(this).text();e.find('input[name="ct_type"]').val(n),$(this).addClass("selected"),e.find(".ct_type").not(this).removeClass("selected")}),e.submit(function(t){t.preventDefault();var n=e.find('input[name="ct_type"]').val(),a=e.find('input[name="ct_name"]').val(),i=e.find('input[name="ct_email"]').val(),c=e.find("textarea").val(),r=i.indexOf("@"),o=i.lastIndexOf(".");""===a?e.find('input[name="ct_name"]').addClass("error"):e.find('input[name="ct_name"]').removeClass("error"),""===i?e.find('input[name="ct_email"]').addClass("error"):e.find('input[name="ct_email"]').removeClass("error"),""===c?e.find("textarea").addClass("error"):e.find("textarea").removeClass("error"),(""!==a||""!==i||""!==c)&&(1>r||r+2>o||o+2>=i.length?e.find('input[name="ct_email"]').addClass("error"):$.ajax({url:"//hshtags.com/contact/sendMail",type:"POST",data:{ctType:n,ctName:a,ctEmail:i,ctMessage:c},success:function(t){console.log(t),"sent"===t?window.location="/contact/thanks":(window.location="/contact",console.log("FAIL"))},error:function(){console.log("error")}}))})};return{link:t}}]);